<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>å…¬å¸æ±‰è¯­ â€“ Unit 1 å…¬å¸æœºæ„</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:'Segoe UI',system-ui,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);margin:0;min-height:100vh;padding:20px 10px}
.container{max-width:900px;margin:0 auto;background:rgba(255,255,255,0.95);border-radius:32px;padding:40px;box-shadow:0 40px 80px rgba(0,0,0,.15),0 0 0 1px rgba(255,255,255,.3);backdrop-filter:blur(10px)}
h1{text-align:center;margin-top:0;color:#1f2937;font-size:28px;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.05)}
button{padding:14px 28px;border-radius:16px;border:none;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;cursor:pointer;margin:6px;font-size:16px;font-weight:600;transition:all .3s ease;box-shadow:0 4px 12px rgba(102,126,234,.3)}
button:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(102,126,234,.4)}
button:active{transform:translateY(0)}
input{width:100%;font-size:22px;padding:18px;border-radius:20px;border:3px solid #e0e7ff;outline:none;box-sizing:border-box;transition:all .3s ease;background:#fafbff;font-family:'Microsoft YaHei','SimHei',sans-serif;word-break:break-all;line-height:1.6}
input:focus{border-color:#667eea;background:white;box-shadow:0 0 0 4px rgba(102,126,234,.1)}
.answerWord{color:#0ea5e9;font-weight:700;border-bottom:3px solid #0ea5e9;padding:2px 4px;border-radius:4px;background:rgba(14,165,233,.1)}
.hidden{display:none}
.center{text-align:center;margin:20px 0}
.word{display:inline-block;min-width:58px;text-align:center;font-weight:500}
.pin{display:inline-block;min-width:58px;text-align:center;color:#6b7280;font-size:15px}
#qtitle{color:#667eea;font-weight:600;font-size:18px}
#instruction{color:#6b7280;margin:10px 0 20px;font-size:16px}
#sentence{font-size:26px;margin:20px 0;line-height:1.8;font-weight:500;color:#1f2937}
#pinyin{margin-top:15px;font-size:18px;line-height:1.8}
#meaning{margin-top:15px;font-size:19px;color:#059669;font-weight:500;background:rgba(5,150,105,.05);padding:12px 16px;border-radius:12px;border-left:4px solid #059669}
.confetti{position:fixed;width:10px;height:10px;border-radius:50%;pointer-events:none;z-index:9999}
@keyframes confetti-fall{to{transform:translateY(100vh) rotate(720deg);opacity:0}}
</style>
</head>

<body>

<div class="container">

<h1>å…¬å¸æ±‰è¯­ â€“ Unit 1 å…¬å¸æœºæ„</h1>

<div class="center">
<button onclick="start()">â–¶ Báº¯t Ä‘áº§u</button>
<button onclick="next()" id="nextBtn" class="hidden">â­ Tiáº¿p tá»¥c</button>
</div>

<div id="main" class="hidden">

<h3 id="qtitle"></h3>
<div id="instruction" style="color:#555"></div>

<div id="pinyin" style="margin-top:10px;font-size:17px"></div>

<div id="sentence" style="font-size:22px;margin-top:10px"></div>

<input id="answer" placeholder="Nháº­p tiáº¿ng Trungâ€¦" oninput="autoCheck()">

<div style="margin-top:12px">
<button onclick="playAudio()">ğŸ”Š Nghe láº¡i</button>
<button onclick="showVietnamese()">ğŸ’¡ NghÄ©a</button>
<button onclick="showAnswer()">ğŸ‘€ ÄÃ¡p Ã¡n</button>
</div>

<div id="meaning" style="margin-top:8px;font-size:18px"></div>

</div>

</div>

<script>

/************* UNIT 1 â€” 52 CÃ‚U *************/

let questions = [

/********** è¯¾æ–‡ A **********/
{type:"listen",cnWords:["åˆ˜æ³¢","é€šè¿‡äº†","è¿œå¤§å…¬å¸","çš„","é¢è¯•ï¼Œ"],pyWords:["LiÃº BÅ","tÅngguÃ² le","YuÇndÃ  gÅngsÄ«","de","miÃ nshÃ¬,"],vi:"LÆ°u Ba vÆ°á»£t qua phá»ng váº¥n,"},
{type:"listen",cnWords:["æˆä¸º","è¿™å®¶å…¬å¸çš„","é”€å”®éƒ¨ç»ç†ã€‚"],pyWords:["chÃ©ngwÃ©i","zhÃ¨ jiÄ gÅngsÄ« de","xiÄoshÃ²u bÃ¹ jÄ«nglÇ."],vi:"vÃ  trá»Ÿ thÃ nh trÆ°á»Ÿng phÃ²ng kinh doanh."},

{type:"listen",cnWords:["åœ¨","æ­£å¼","ä¸Šç­","ä¹‹å‰ï¼Œ"],pyWords:["ZÃ i","zhÃ¨ngshÃ¬","shÃ ngbÄn","zhÄ«qiÃ¡n,"],vi:"TrÆ°á»›c khi Ä‘i lÃ m chÃ­nh thá»©c,"},
{type:"listen",cnWords:["å…¬å¸","å®‰æ’ä»–","å…ˆ","äº†è§£","å…¬å¸æœºæ„ã€‚"],pyWords:["gÅngsÄ«","ÄnpÃ¡i tÄ","xiÄn","liÇojiÄ›","gÅngsÄ« jÄ«gÃ²u."],vi:"cÃ´ng ty sáº¯p xáº¿p anh tÃ¬m hiá»ƒu cÆ¡ cáº¥u tá»• chá»©cã€‚"},

{type:"listen",cnWords:["ç§˜ä¹¦","ç‹è‹¹","è´Ÿè´£","æ¥å¾…ä»–ã€‚"],pyWords:["MÃ¬shÅ«","WÃ¡ng PÃ­ng","fÃ¹zÃ©","jiÄ“dÃ i tÄ."],vi:"ThÆ° kÃ½ VÆ°Æ¡ng BÃ¬nh phá»¥ trÃ¡ch tiáº¿p Ä‘Ã³n anhã€‚"},

{type:"listen",cnWords:["æˆ‘","å§“ç‹ï¼Œ"],pyWords:["WÇ’","xÃ¬ng WÃ¡ng,"],vi:"TÃ´i há» VÆ°Æ¡ng,"},
{type:"listen",cnWords:["å«","ç‹è‹¹ï¼Œ"],pyWords:["jiÃ o","WÃ¡ng PÃ­ng,"],vi:"tÃªn lÃ  VÆ°Æ¡ng BÃ¬nh,"},
{type:"listen",cnWords:["æ˜¯","é™ˆæ€»","çš„","ç§˜ä¹¦ã€‚"],pyWords:["shÃ¬","ChÃ©n zÇ’ng","de","mÃ¬shÅ«."],vi:"lÃ  thÆ° kÃ½ cá»§a Tá»•ng giÃ¡m Ä‘á»‘c Tráº§nã€‚"},

{type:"listen",cnWords:["æ¬¢è¿","æ‚¨","åŠ å…¥","è¿œå¤§å…¬å¸ã€‚"],pyWords:["HuÄnyÃ­ng","nÃ­n","jiÄrÃ¹","YuÇndÃ  gÅngsÄ«."],vi:"ChÃ o má»«ng anh gia nháº­p cÃ´ng tyã€‚"},

{type:"listen",cnWords:["ä»¥å","æˆ‘ä»¬","è¦","ç»å¸¸","ä¸€èµ·","å·¥ä½œã€‚"],pyWords:["YÇhÃ²u","wÇ’men","yÃ o","jÄ«ngchÃ¡ng","yÄ«qÇ","gÅngzuÃ²."],vi:"Sau nÃ y chÃºng ta sáº½ thÆ°á»ng xuyÃªn lÃ m viá»‡c cÃ¹ng nhauã€‚"},

{type:"listen",cnWords:["é‚£","æˆ‘","å…ˆ","ç»™æ‚¨","ä»‹ç»","ä¸€ä¸‹","å…¬å¸æœºæ„ã€‚"],pyWords:["NÃ ","wÇ’","xiÄn","gÄ›i nÃ­n","jiÃ¨shÃ o","yÄ«xiÃ ","gÅngsÄ« jÄ«gÃ²u."],vi:"Váº­y Ä‘á»ƒ tÃ´i giá»›i thiá»‡u sÆ¡ qua cÆ¡ cáº¥u cÃ´ng tyã€‚"},

{type:"listen",cnWords:["æˆ‘ä»¬å…¬å¸","çš„","è‘£äº‹é•¿","æ˜¯","å¸ƒè±å…‹","å…ˆç”Ÿã€‚"],pyWords:["WÇ’men gÅngsÄ«","de","dÇ’ngshÃ¬zhÇng","shÃ¬","BÃ¹lÃ¡ikÃ¨","xiÄnsheng."],vi:"Chá»§ tá»‹ch cÃ´ng ty lÃ  Ã´ng Blakeã€‚"},

{type:"listen",cnWords:["å…¬å¸","äº","1981å¹´","åœ¨","ç¾å›½","åˆ›ç«‹ã€‚"],pyWords:["GÅngsÄ«","yÃº","yÄ« jiÇ” bÄ yÄ« niÃ¡n","zÃ i","MÄ›iguÃ³","chuÃ nglÃ¬."],vi:"CÃ´ng ty Ä‘Æ°á»£c thÃ nh láº­p táº¡i Má»¹ vÃ o nÄƒm 1981ã€‚"},

{type:"listen",cnWords:["æˆ‘ä»¬å…¬å¸","åœ¨","ä¸–ç•Œ","åå‡ ä¸ª","å›½å®¶","éƒ½æœ‰","åˆ†å…¬å¸ã€‚"],pyWords:["WÇ’men gÅngsÄ«","zÃ i","shÃ¬jiÃ¨","shÃ­ jÇ gÃ¨","guÃ³jiÄ","dÅu yÇ’u","fÄ“ngÅngsÄ«."],vi:"CÃ´ng ty cÃ³ chi nhÃ¡nh táº¡i hÆ¡n mÆ°á»i quá»‘c gia trÃªn tháº¿ giá»›iã€‚"},

{type:"listen",cnWords:["ä¸­å›½","åˆ†å…¬å¸çš„","å·¥ä½œï¼Œ"],pyWords:["ZhÅngguÃ³","fÄ“ngÅngsÄ« de","gÅngzuÃ²,"],vi:"CÃ´ng viá»‡c cá»§a chi nhÃ¡nh Trung Quá»‘c,"},
{type:"listen",cnWords:["ä¸»è¦","æ˜¯","é™ˆæ€»","è´Ÿè´£ã€‚"],pyWords:["zhÇ”yÃ o","shÃ¬","ChÃ©n zÇ’ng","fÃ¹zÃ©."],vi:"chá»§ yáº¿u do Tá»•ng giÃ¡m Ä‘á»‘c Tráº§n phá»¥ trÃ¡chã€‚"},

{type:"listen",cnWords:["ä»–","ä¹Ÿæ˜¯","äºšå¤ªåŒº","çš„","å‰¯æ€»è£ã€‚"],pyWords:["TÄ","yÄ› shÃ¬","YÃ tÃ iqÅ«","de","fÃ¹ zÇ’ngcÃ¡i."],vi:"Ã”ng cÅ©ng lÃ  phÃ³ tá»•ng phá»¥ trÃ¡ch khu vá»±c chÃ¢u Ãâ€“TBDã€‚"},

{type:"listen",cnWords:["è¡Œæ”¿","å‰¯æ€»","å«","å´æ–‡é’ï¼Œ"],pyWords:["XÃ­ngzhÃ¨ng","fÃ¹zÇ’ng","jiÃ o","WÃº WÃ©nqÄ«ng,"],vi:"PhÃ³ tá»•ng hÃ nh chÃ­nh tÃªn lÃ  NgÃ´ VÄƒn Thanh,"},
{type:"listen",cnWords:["å¥¹","æ˜¯ä¸€ä½","å¥³å£«ã€‚"],pyWords:["tÄ","shÃ¬ yÃ­ wÃ¨i","nÇšshÃ¬."],vi:"bÃ  áº¥y lÃ  ná»¯ã€‚"},

{type:"listen",cnWords:["ç”Ÿäº§","å‰¯æ€»","æ˜¯","å‘¨å¥ã€‚"],pyWords:["ShÄ“ngchÇn","fÃ¹zÇ’ng","shÃ¬","ZhÅu JiÃ n."],vi:"PhÃ³ tá»•ng sáº£n xuáº¥t lÃ  Chu Kiá»‡nã€‚"},

{type:"listen",cnWords:["æŠ€æœ¯","æ€»ç›‘","æ˜¯","æ ¼æ—","å…ˆç”Ÿã€‚"],pyWords:["JÃ¬shÃ¹","zÇ’ngjiÄn","shÃ¬","GÃ©lÃ­n","xiÄnsheng."],vi:"GiÃ¡m Ä‘á»‘c ká»¹ thuáº­t lÃ  Ã´ng Greenã€‚"},

{type:"listen",cnWords:["å¾ˆå¤šäºº","è§‰å¾—","è·Ÿä»–","ä¸€èµ·","å·¥ä½œï¼Œ"],pyWords:["HÄ›n duÅ rÃ©n","juÃ©de","gÄ“n tÄ","yÄ«qÇ","gÅngzuÃ²,"],vi:"Nhiá»u ngÆ°á»i cáº£m tháº¥y lÃ m viá»‡c vá»›i Ã´ng áº¥y,"},
{type:"listen",cnWords:["éå¸¸","æ„‰å¿«ã€‚"],pyWords:["fÄ“ichÃ¡ng","yÃºkuÃ i."],vi:"ráº¥t vui váº»ã€‚"},

/********** è¯¾æ–‡ B **********/

{type:"listen",cnWords:["æ¬¢è¿","å¤§å®¶","æ¥","æˆ‘ä»¬å…¬å¸","å‚è§‚ã€‚"],pyWords:["HuÄnyÃ­ng","dÃ jiÄ","lÃ¡i","wÇ’men gÅngsÄ«","cÄnguÄn."],vi:"ChÃ o má»«ng má»i ngÆ°á»i Ä‘áº¿n tham quan cÃ´ng ty chÃºng tÃ´iã€‚"},

{type:"listen",cnWords:["è¿™æ˜¯","æˆ‘ä»¬å…¬å¸","çš„","ç»„ç»‡æœºæ„å›¾ã€‚"],pyWords:["ZhÃ¨ shÃ¬","wÇ’men gÅngsÄ«","de","zÇ”zhÄ« jÄ«gÃ²u tÃº."],vi:"ÄÃ¢y lÃ  sÆ¡ Ä‘á»“ cÆ¡ cáº¥u tá»• chá»©c cÃ´ng tyã€‚"},

{type:"listen",cnWords:["æˆ‘ä»¬å…¬å¸","æ€»éƒ¨","è®¾åœ¨","ç¾å›½çº½çº¦ã€‚"],pyWords:["WÇ’men gÅngsÄ«","zÇ’ngbÃ¹","shÃ¨ zÃ i","MÄ›iguÃ³ NiÇ”yuÄ“."],vi:"Tá»•ng bá»™ cÃ´ng ty Ä‘áº·t táº¡i New York, Má»¹ã€‚"},

{type:"listen",cnWords:["å…¬å¸","æˆç«‹äº","1981å¹´ã€‚"],pyWords:["GÅngsÄ«","chÃ©nglÃ¬ yÃº","yÄ« jiÇ” bÄ yÄ« niÃ¡n."],vi:"CÃ´ng ty thÃ nh láº­p nÄƒm 1981ã€‚"},

{type:"listen",cnWords:["ä¸­å›½","åˆ†å…¬å¸","æˆç«‹äº","1993å¹´ã€‚"],pyWords:["ZhÅngguÃ³","fÄ“ngÅngsÄ«","chÃ©nglÃ¬ yÃº","yÄ« jiÇ” jiÇ” sÄn niÃ¡n."],vi:"Chi nhÃ¡nh Trung Quá»‘c thÃ nh láº­p nÄƒm 1993ã€‚"},

{type:"listen",cnWords:["æˆ‘ä»¬å…¬å¸","æœ€é«˜é¢†å¯¼","æ˜¯","æ€»ç»ç†ã€‚"],pyWords:["WÇ’men gÅngsÄ«","zuÃ¬gÄo lÇngdÇo","shÃ¬","zÇ’ngjÄ«nglÇ."],vi:"NgÆ°á»i lÃ£nh Ä‘áº¡o cao nháº¥t cá»§a cÃ´ng ty lÃ  tá»•ng giÃ¡m Ä‘á»‘cã€‚"},

{type:"listen",cnWords:["ç”Ÿäº§","å‰¯æ€»","è´Ÿè´£","ç”Ÿäº§éƒ¨ï¼Œ"],pyWords:["ShÄ“ngchÇn","fÃ¹zÇ’ng","fÃ¹zÃ©","shÄ“ngchÇn bÃ¹,"],vi:"PhÃ³ tá»•ng sáº£n xuáº¥t phá»¥ trÃ¡ch phÃ²ng sáº£n xuáº¥t,"},
{type:"listen",cnWords:["äº§å“éƒ¨","å’Œ","é‡‡è´­éƒ¨ã€‚"],pyWords:["chÇnpÇn bÃ¹","hÃ©","cÇigÃ²u bÃ¹."],vi:"phÃ²ng sáº£n pháº©m vÃ  phÃ²ng thu muaã€‚"},

{type:"listen",cnWords:["è¡Œæ”¿","å‰¯æ€»","è´Ÿè´£","è¡Œæ”¿éƒ¨ï¼Œ"],pyWords:["XÃ­ngzhÃ¨ng","fÃ¹zÇ’ng","fÃ¹zÃ©","xÃ­ngzhÃ¨ng bÃ¹,"],vi:"PhÃ³ tá»•ng hÃ nh chÃ­nh phá»¥ trÃ¡ch phÃ²ng hÃ nh chÃ­nh,"},
{type:"listen",cnWords:["äººäº‹éƒ¨","å’Œ","è´¢åŠ¡éƒ¨ã€‚"],pyWords:["rÃ©nshÃ¬ bÃ¹","hÃ©","cÃ¡iwÃ¹ bÃ¹."],vi:"phÃ²ng nhÃ¢n sá»± vÃ  phÃ²ng tÃ i vá»¥ã€‚"},

{type:"listen",cnWords:["å•†åŠ¡å‘å±•éƒ¨","è´Ÿè´£","å¸‚åœºæ¸ é“","çš„","å¼€æ‹“ã€‚"],pyWords:["ShÄngwÃ¹ fÄzhÇn bÃ¹","fÃ¹zÃ©","shÃ¬chÇng qÃºdÃ o","de","kÄituÃ²."],vi:"PhÃ²ng phÃ¡t triá»ƒn thÆ°Æ¡ng máº¡i phá»¥ trÃ¡ch khai thÃ¡c kÃªnh thá»‹ trÆ°á»ngã€‚"},

{type:"listen",cnWords:["æ‰€æœ‰","éƒ¨é—¨","ç›¸äº’","é…åˆï¼Œ"],pyWords:["SuÇ’yÇ’u","bÃ¹mÃ©n","xiÄnghÃ¹","pÃ¨ihÃ©,"],vi:"Táº¥t cáº£ cÃ¡c phÃ²ng ban phá»‘i há»£p vá»›i nhau,"},
{type:"listen",cnWords:["å…±åŒ","åŠªåŠ›ã€‚"],pyWords:["gÃ²ngtÃ³ng","nÇ”lÃ¬."],vi:"cÃ¹ng nhau cá»‘ gáº¯ngã€‚"},

/********** å¡«ç©º 12 **********/

{type:"fill",cnWords:["ä¸­å›½","äº","2001å¹´","åº•","æ­£å¼","åŠ å…¥","äº†","WTOã€‚"],pyWords:["ZhÅngguÃ³","yÃº","Ã¨r lÃ­ng lÃ­ng yÄ« niÃ¡n","dÇ","zhÃ¨ngshÃ¬","jiÄrÃ¹","le","WTO."],missing:"åŠ å…¥",vi:"Trung Quá»‘c gia nháº­p WTO vÃ o cuá»‘i nÄƒm 2001ã€‚"},

{type:"fill",cnWords:["ä»–","å‘","æˆ‘","è¯·æ•™","ä¸€ä¸ª","é—®é¢˜ã€‚"],pyWords:["TÄ","xiÃ ng","wÇ’","qÇngjiÃ o","yÃ­ gÃ¨","wÃ¨ntÃ­."],missing:"è¯·æ•™",vi:"Anh áº¥y thá»‰nh giÃ¡o tÃ´i má»™t cÃ¢u há»iã€‚"},

{type:"fill",cnWords:["è¿™å®¶","å…¬å¸","æœ€åˆ","æˆç«‹","äº","ä¸Šæµ·ã€‚"],pyWords:["ZhÃ¨ jiÄ","gÅngsÄ«","zuÃ¬chÅ«","chÃ©nglÃ¬","yÃº","ShÃ nghÇi."],missing:"æˆç«‹",vi:"CÃ´ng ty ban Ä‘áº§u thÃ nh láº­p táº¡i ThÆ°á»£ng Háº£iã€‚"},

{type:"fill",cnWords:["ä»–","åŠäº‹","éå¸¸","è®¤çœŸï¼Œ","æ€åº¦","ä¸¥è°¨ã€‚"],pyWords:["TÄ","bÃ nshÃ¬","fÄ“ichÃ¡ng","rÃ¨nzhÄ“n,","tÃ idÃ¹","yÃ¡njÇn."],missing:"ä¸¥è°¨",vi:"Anh áº¥y lÃ m viá»‡c ráº¥t nghiÃªm tÃºc, thÃ¡i Ä‘á»™ cháº·t cháº½ã€‚"},

{type:"fill",cnWords:["å› ä¸º","å…³å¿ƒ","ä¸‹å±ï¼Œ","å¤§å®¶","éƒ½","å¾ˆ","å°Šæ•¬","ä»–ã€‚"],pyWords:["YÄ«nwÃ¨i","guÄnxÄ«n","xiÃ shÇ”,","dÃ jiÄ","dÅu","hÄ›n","zÅ«njÃ¬ng","tÄ."],missing:"ä¸‹å±",vi:"VÃ¬ quan tÃ¢m Ä‘áº¿n cáº¥p dÆ°á»›i nÃªn má»i ngÆ°á»i ráº¥t tÃ´n trá»ng anh áº¥yã€‚"},

{type:"fill",cnWords:["ä»–","ä¸ºäºº","å¾ˆ","å®½åšã€‚"],pyWords:["TÄ","wÃ©irÃ©n","hÄ›n","kuÄnhÃ²u."],missing:"å®½åš",vi:"Anh áº¥y Ä‘á»‘i xá»­ vá»›i ngÆ°á»i khÃ¡c ráº¥t khoan dungã€‚"},

{type:"fill",cnWords:["æ¬¢è¿","å¤§å®¶","æ¥","å…¬å¸","å‚è§‚ã€‚"],pyWords:["HuÄnyÃ­ng","dÃ jiÄ","lÃ¡i","gÅngsÄ«","cÄnguÄn."],missing:"å‚è§‚",vi:"Hoan nghÃªnh má»i ngÆ°á»i Ä‘áº¿n tham quan cÃ´ng tyã€‚"},

{type:"fill",cnWords:["è¿™é—´","å±•è§ˆå®¤","é‡Œ","æ‘†çš„","éƒ½æ˜¯","æœ€æ–°","äº§å“ã€‚"],pyWords:["ZhÃ¨ jiÄn","zhÇnlÇnshÃ¬","lÇ","bÇi de","dÅu shÃ¬","zuÃ¬xÄ«n","chÇnpÇn."],missing:"å±•è§ˆå®¤",vi:"Trong phÃ²ng triá»ƒn lÃ£m nÃ y trÆ°ng bÃ y toÃ n sáº£n pháº©m má»›i nháº¥tã€‚"},

{type:"fill",cnWords:["ç°åœ¨","å„ç§å„æ ·","å•†åŠ¡","æ´»åŠ¨","éå¸¸","å¤šã€‚"],pyWords:["XiÃ nzÃ i","gÃ¨zhÇ’ng gÃ¨yÃ ng","shÄngwÃ¹","huÃ³dÃ²ng","fÄ“ichÃ¡ng","duÅ."],missing:"å•†åŠ¡",vi:"Hiá»‡n nay cÃ³ ráº¥t nhiá»u hoáº¡t Ä‘á»™ng thÆ°Æ¡ng máº¡i khÃ¡c nhauã€‚"},

{type:"fill",cnWords:["ä»Šå¹´","é‡‡è´­","ä»»åŠ¡","å®Œæˆ","äº†å—ï¼Ÿ"],pyWords:["JÄ«nniÃ¡n","cÇigÃ²u","rÃ¨nwu","wÃ¡nchÃ©ng","le ma?"],missing:"é‡‡è´­",vi:"Nhiá»‡m vá»¥ thu mua nÄƒm nay hoÃ n thÃ nh chÆ°a?"},

{type:"fill",cnWords:["è”åˆå›½","æ€»éƒ¨","è®¾åœ¨","çº½çº¦ã€‚"],pyWords:["LiÃ¡nhÃ©guÃ³","zÇ’ngbÃ¹","shÃ¨ zÃ i","NiÇ”yuÄ“."],missing:"æ€»éƒ¨",vi:"Trá»¥ sá»Ÿ LiÃªn Há»£p Quá»‘c Ä‘áº·t táº¡i New Yorkã€‚"},

{type:"fill",cnWords:["æˆ‘ä»¬","è¦","å»ºç«‹","æœ‰æ•ˆ","äº¤æµ","æ¸ é“ã€‚"],pyWords:["WÇ’men","yÃ o","jiÃ nlÃ¬","yÇ’uxiÃ o","jiÄoliÃº","qÃºdÃ o."],missing:"æ¸ é“",vi:"ChÃºng tÃ´i cáº§n xÃ¢y dá»±ng kÃªnh trao Ä‘á»•i hiá»‡u quáº£ã€‚"}

];

/************* STATE *************/
let shuffled=[];
let index=0;

/************* START *************/
function start(){
 document.getElementById("main").classList.remove("hidden");
 document.getElementById("nextBtn").classList.remove("hidden");
 shuffled=[...questions].sort(()=>Math.random()-0.5);
 index=0;
 showQuestion();
}

/************* SHOW *************/
function showQuestion(){

 document.getElementById("pinyin").innerHTML="";
 document.getElementById("meaning").innerHTML="";
 document.getElementById("answer").value="";

 let q=shuffled[index];

 document.getElementById("qtitle").innerText=`CÃ¢u ${index+1}/${shuffled.length}`;

 if(q.type==="listen"){
  document.getElementById("instruction").innerText="ğŸ“¢ Nghe & nháº­p láº¡i cÃ¢u";
 }else{
  document.getElementById("instruction").innerText="âœ Äiá»n tá»« vÃ o chá»— trá»‘ng";

  document.getElementById("sentence").innerHTML=
   q.cnWords.map(w=>w===q.missing?"_____":`<span class='word'>${w}</span>`).join("");
 }

 playAudio();
}

/************* AUDIO *************/
function playAudio(){
 let u=new SpeechSynthesisUtterance(shuffled[index].cnWords.join(""));
 u.lang="zh-CN";
 speechSynthesis.cancel();
 speechSynthesis.speak(u);
}

/************* CHECK *************/
function normalize(s){
 return s.replace(/[\sï¼Œã€‚ã€ï¼ï¼Ÿ,.!ï¼Ÿï¼›ï¼šâ€œâ€â€˜â€™â€”â€¦-]/g,"");
}
function autoCheck(){
 let q=shuffled[index];
 let v=normalize(document.getElementById("answer").value);
 let real=normalize(q.cnWords.join(""));
 document.getElementById("answer").style.borderColor=(v&&v===real)?"#16a34a":"#d5d9ff";
}

/************* NGHÄ¨A *************/
function showVietnamese(){
 document.getElementById("meaning").innerHTML=shuffled[index].vi;
}

/************* ANSWER *************/
function showAnswer(){

 let q=shuffled[index];

 document.getElementById("pinyin").innerHTML=
   q.pyWords.map(p=>`<span class='pin'>${p}</span>`).join("");

 document.getElementById("sentence").innerHTML=
   q.cnWords.map(w=>
     (q.type==="fill" && w===q.missing)
       ? `<span class='word answerWord'>${w}</span>`
       : `<span class='word'>${w}</span>`
   ).join("");

 document.getElementById("meaning").innerHTML=q.vi;
}

/************* NEXT *************/
function next(){
 index++;
 if(index>=shuffled.length) index=0;
 showQuestion();
}

</script>
</body>
</html>
